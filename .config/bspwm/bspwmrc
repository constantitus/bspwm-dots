#!/usr/bin/env bash

# bspwm config directory
BSPDIR="$HOME/.config/bspwm"
# executables path
export PATH="${PATH}:$HOME/.config/bspwm/bin"

# fixes java based software
export _JAVA_AWT_WM_NONREPARENTING=1

# xrandr settings 
xrandr --output DP-0 --rate 144 --primary --output HDMI-0 --auto --right-of DP-0
xrandr --rate 144 &

# Monitors
bspc monitor DP-0 -d 1 2 3
bspc monitor HDMI-0 -d 4 5 6

# Set the border colors
bspc config normal_border_color "#bd16fa"
bspc config active_border_color "#d35cff"
bspc config focused_border_color "#e894ff"
bspc config presel_feedback_color "#7018db"
# the colors used to be in a separate file but I've just
# moved them here since I edit this file more often.


# border config
CURRENT_BORDER='3'
CURRENT_GAP='22'
CURRENT_SRATIO='1.2'

# windows config
bspc config border_width "$CURRENT_BORDER"
bspc config window_gap "$CURRENT_GAP"
bspc config split_ratio "$CURRENT_SRATIO"
bspc config focused_border_color "$BLUE" 
bspc config normal_border_color "$BACKGROUND"
bspc config active_border_color "$MAGENTA"
bspc config presel_feedback_color "$GREEN"
bspc config borderless_monocle true
bspc config gapless_monocle true
bspc config paddingless_monocle true
bspc config single_monocle false
bspc config focus_follows_pointer false

bspc wm --adopt-orphans

bspc rule -r "*"

# kills processes before spawning them again
killall -9 xsettingsd sxhkd dunst ksuperkey xfce4-power-manager polybar

# starting sxhkd
pgrep -x sxhkd > /dev/null || sxhkd &
sxhkd -c /home/bern/.config/sxhkd/sxhkdrc

# starting xsettings
xsettingsd --config="$BSPDIR"/xsettingsd &

# fixes cursor
xsetroot -cursor_name left_ptr

# starting picom and polybar
picom --experimental-backend --config ~/.config/bspwm/picom.conf
polybar main -c ~/.config/bspwm/polybar.ini &
polybar secondary -c ~/.config/bspwm/polybar.ini &

# starting polybar colors script
~/.config/bspwm/polybar/colors

# sets the background
feh --bg-fill ~/Pictures/bg.jpg



